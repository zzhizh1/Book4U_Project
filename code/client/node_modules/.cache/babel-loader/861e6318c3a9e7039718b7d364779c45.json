{"ast":null,"code":"var _jsxFileName = \"/Users/miabb/Desktop/Project550New 3/client/src/components/Bookshelf.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport PageNavbar from './PageNavbar';\nimport '../style/Recommendations.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Bookshelf extends React.Component {\n  constructor(props) {\n    super(props); // State maintained by this React component is the selected movie name,\n    // and the list of recommended movies.\n\n    this.state = {\n      username: \"\",\n      books: []\n    };\n  }\n\n  handleUserNameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    let storage = window.localStorage;\n    let username = storage.getItem(\"username\");\n\n    if (username != null & username != \"\") {\n      this.state.isLoggedIn = true;\n      this.setState({\n        title: username + \"'s Bookshelf\"\n      });\n    } else {\n      this.setState({\n        title: \"Please Log in to see your bookshelf\"\n      });\n    }\n\n    fetch(\"http://localhost:8081/bookshelf?username=\" + username, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => res.json()) // Convert the response data to a JSON.\n    .then(res => {\n      this.setState({\n        books: res\n      });\n    }).catch(err => console.log(err)); // Print the error if there is one.\n  } // Go to the book's subpage/info page\n\n\n  goToSubpage(ISBN) {\n    this.props.history.push({\n      pathname: '/subpage',\n      state: {\n        //ISBN: the ISBN of the book that user just clicked\n        ISBN: ISBN\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Bookshelf\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"bookshelf\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list pr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-box px-3 pt-3\",\n      id: \"rec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"list-title mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"\\u2261 \", this.state.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3\",\n      id: \"rec2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, this.state.books.map((element, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mb-4\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"card-img-top\",\n        src: element.image_url_l,\n        onClick: () => this.goToSubpage(element.ISBN),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h7\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 27\n        }\n      }, element.title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 27\n        }\n      }, element.author))));\n    }))))));\n  }\n\n}\n\nexport default withRouter(Bookshelf);","map":{"version":3,"sources":["/Users/miabb/Desktop/Project550New 3/client/src/components/Bookshelf.js"],"names":["React","withRouter","PageNavbar","Bookshelf","Component","constructor","props","state","username","books","handleUserNameChange","e","setState","target","value","componentDidMount","storage","window","localStorage","getItem","isLoggedIn","title","fetch","method","then","res","json","catch","err","console","log","goToSubpage","ISBN","history","push","pathname","render","map","element","index","image_url_l","author"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport PageNavbar from './PageNavbar';\nimport '../style/Recommendations.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Bookshelf extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// State maintained by this React component is the selected movie name,\n\t\t// and the list of recommended movies.\n\t\tthis.state = {\n\t\t\tusername: \"\",\n\t\t\tbooks: []\n\t\t}\n\t}\n\n\thandleUserNameChange(e) {\n\t\tthis.setState({\n\t\t\tusername: e.target.value\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tlet storage = window.localStorage;\n        let username = storage.getItem(\"username\");\n        if (username!= null & username!= \"\"){\n          this.state.isLoggedIn =true;\n          this.setState({title:username+\"'s Bookshelf\"});\n        }\n        else{this.setState({title: \"Please Log in to see your bookshelf\"})}\n\t\tfetch(\"http://localhost:8081/bookshelf?username=\"+username, {\n\t\t\tmethod: 'GET' // The type of HTTP request.\n\t\t  })\n\t\t\t.then(res => res.json()) // Convert the response data to a JSON.\n\t\t\t.then(res => {\n\t\t\t  this.setState({\n\t\t\t\tbooks: res\n\t\t\t  })\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\t// Print the error if there is one.\n\t}\n\n    // Go to the book's subpage/info page\n\tgoToSubpage(ISBN) {\n\t\tthis.props.history.push({\n\t\t  pathname : '/subpage',\n\t\t  state :{\n\t\t\t//ISBN: the ISBN of the book that user just clicked\n\t\t\tISBN:ISBN\n\t\t  }\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Bookshelf\">\n           <PageNavbar active=\"bookshelf\" />\n              <br></br>\n\n\n\n                <div className=\"list-wrap\">\n            <div className=\"list pr-1\">\n              <div className=\"list-box px-3 pt-3\"  id=\"rec\" >\n                <h5 className=\"list-title mb-3\">≡ {this.state.title}</h5>\n                <div className=\"row row-cols-1 row-cols-md-3\" id=\"rec2\">            \n                  {this.state.books.map((element, index) => {\n                    return (\n                  <div className=\"col mb-4\" key={index}>\n                      <div className=\"card h-100\">\n\n                          <img className=\"card-img-top\" src={element.image_url_l} onClick={()=>this.goToSubpage(element.ISBN)}/>\n\n                    <div className=\"card-body\">\n                          <h7 className=\"card-title\">{element.title}</h7>\n                          <p className=\"card-text\">{element.author}</p>\n                        </div></div></div>\n\n                    );\n                  })}\n                </div>\n              </div></div></div></div>\n        \n        );\n\t}\n}\nexport default withRouter(Bookshelf);\n"]},"metadata":{},"sourceType":"module"}