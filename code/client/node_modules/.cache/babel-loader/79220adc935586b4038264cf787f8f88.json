{"ast":null,"code":"var _jsxFileName = \"/Users/miabb/Desktop/Project550New 3/client/src/components/Recommendations.js\";\nimport React from \"react\";\nimport \"../style/Recommendations.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PageNavbar from \"./PageNavbar\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Recommendations extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      username: \"\",\n      isLoggedIn: false,\n      title: \"\"\n    }; // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n  }\n\n  handleUserNameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    let storage = window.localStorage;\n    let name = storage.getItem(\"username\");\n\n    if (name != \"\") {\n      this.setState({\n        title: \"Recommendations for \" + name\n      }); // Send an HTTP request to the server.\n\n      fetch(\"http://localhost:8081/recommendations?username=\" + name, {\n        method: 'GET' // The type of HTTP request.\n\n      }).then(res => res.json()) // Convert the response data to a JSON.\n      .then(res => {\n        if (!res) return;\n        this.setState({\n          books: res\n        });\n      }).catch(err => console.log(err)); // Print the error if there is one.\n    } else {\n      this.setState({\n        title: \"Please Log in to see your recommendations\"\n      });\n    }\n  }\n\n  goToSubpage(ISBN) {\n    this.props.history.push({\n      pathname: '/subpage',\n      state: {\n        //ISBN: the ISBN of the book that user just clicked\n        ISBN: ISBN\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Recommendation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"recommendation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list pr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-box px-3 pt-3\",\n      id: \"rec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"list-title mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"\\u2261 \", this.state.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row row-cols-1 row-cols-md-3\",\n      id: \"rec2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 1\n      }\n    }, this.state.books.map((element, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mb-4\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"card-img-top\",\n        src: element.image_url_l,\n        onClick: () => this.goToSubpage(element.ISBN),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h7\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }\n      }, element.title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 27\n        }\n      }, element.author))));\n    }))))));\n  }\n\n}\n\nexport default withRouter(Recommendations);","map":{"version":3,"sources":["/Users/miabb/Desktop/Project550New 3/client/src/components/Recommendations.js"],"names":["React","PageNavbar","withRouter","Recommendations","Component","constructor","props","state","books","username","isLoggedIn","title","handleUserNameChange","e","setState","target","value","componentDidMount","storage","window","localStorage","name","getItem","fetch","method","then","res","json","catch","err","console","log","goToSubpage","ISBN","history","push","pathname","render","map","element","index","image_url_l","author"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../style/Recommendations.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport PageNavbar from \"./PageNavbar\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Recommendations extends React.Component {\n  constructor(props) {\n    super(props);\nthis.state={\n  books:[],\n  username :\"\",\n  isLoggedIn:false,\n  title :\"\"\n}\n\n// The state maintained by this React Component. This component maintains the list of genres,\n// and a list of movies for a specified genre.\n}\n  handleUserNameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n  componentDidMount() {\n        let storage = window.localStorage;\n        let name = storage.getItem(\"username\");\n        if (name!= \"\"){\n          this.setState({title: \"Recommendations for \" + name});\n    // Send an HTTP request to the server.\n    fetch(\"http://localhost:8081/recommendations?username=\"+name, {\n      method: 'GET' // The type of HTTP request.\n    })\n      .then(res => res.json()) // Convert the response data to a JSON.\n      .then(res => {\n        if (!res) return;\n        this.setState({\n          books: res\n        })\n      })\n      .catch(err => console.log(err)) // Print the error if there is one.\n    }\n    else{this.setState({title: \"Please Log in to see your recommendations\"})}\n\n  }\n\n  goToSubpage(ISBN) {\n    this.props.history.push({\n      pathname : '/subpage',\n      state :{\n        //ISBN: the ISBN of the book that user just clicked\n        ISBN:ISBN\n      }\n    });\n  }\n\nrender() {    \nreturn(\n        <div className=\"Recommendation\">\n        <PageNavbar active=\"recommendation\" />\n   <br></br>\n\n\n\n                <div className=\"list-wrap\">\n            <div className=\"list pr-1\">\n              <div className=\"list-box px-3 pt-3\"  id=\"rec\" >\n                <h5 className=\"list-title mb-3\">â‰¡ {this.state.title}</h5>\n\n<div className=\"row row-cols-1 row-cols-md-3\" id=\"rec2\">\n\n              \n                  {this.state.books.map((element, index) => {\n                    return (\n                  <div className=\"col mb-4\" key={index}>\n                      <div className=\"card h-100\">\n\n                          <img className=\"card-img-top\" src={element.image_url_l} onClick={()=>this.goToSubpage(element.ISBN)}/>\n\n                    <div className=\"card-body\">\n                          <h7 className=\"card-title\">{element.title}</h7>\n                          <p className=\"card-text\">{element.author}</p>\n                        </div></div></div>\n\n                    );\n                  })}\n                </div>\n              </div></div></div></div>\n);\n\n\n  }\n}\nexport default withRouter(Recommendations);"]},"metadata":{},"sourceType":"module"}